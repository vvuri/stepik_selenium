## fixtures

Фикстуры в контексте PyTest — это вспомогательные функции для наших тестов, которые не являются частью тестового сценария.
- подготовка тестового окружения 
- очистка тестового окружения и данных после завершения теста
- подключение к базе данных
- создание тестовых файлов 
- подготовки данных в текущем окружении с помощью API-методов
- Реализуется через **setup_** **terdown_**
- [Документация](https://docs.pytest.org/en/latest/xunit_setup.html#module-level-setup-teardown)

Фикстуры могут возвращать значение, которое затем можно использовать в тестах. 
Декоратора **@pytest.fixture** обявляет метод фикстурой
По умолчанию фикстура будет создаваться для каждого тестового метода
Но надо явно закрывать браузеры после каждого теста. Можем воспользоваться финализаторами. 
Один из вариантов финализатора — использование ключевого слова Python: **yield**. 
Есть альтернативный способ вызова teardown кода с помощью встроенной фикстуры **request** и ее метода **addfinalizer**.

Покрытие score: “function”, “class”, “module”, “session”.
```python
@pytest.fixture(scope="class") 
```

Дополнительный параметр **autouse=True**, который укажет, что фикстуру нужно запустить для каждого теста даже без явного вызова.
```python
@pytest.fixture(autouse=True)
```

Дополнительные материалы про фикстуры:
- [1](https://habr.com/ru/company/yandex/blog/242795/)
- [2](https://medium.com/@dmrlx/%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-pytest-cc6175c7d0dc)
- [3](https://docs.pytest.org/en/latest/fixture.html)